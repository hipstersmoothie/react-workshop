{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./subjects/00-Hello-World/lecture.js","webpack:///./subjects/00-Hello-World/utils/searchWikipedia.js"],"names":["html","on","event","preventDefault","term","val","show","hide","empty","err","results","forEach","li","result","title","description","is","prependTo","appendTo","find","toggle","isHidden","trigger","each","i","prepend","search","API","cb","data","searchTerm","titles","descriptions","urls","sort","map","index","url"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtJA;;;;AACA;;;;AAEA,IAAMA,8bAAN;;AAqBA,sBAAE,MAAF,EAAUA,IAAV,CAAeA,IAAf,E,CAAsB;;AAEtB,sBAAE,OAAF,EACGC,EADH,CACM,QADN,EACgB,iBAAS;AACrB;AACAC,QAAMC,cAAN;AACA,MAAMC,OAAO,sBAAE,QAAF,EAAYC,GAAZ,EAAb,CAHqB,CAGW;AAChC,wBAAE,UAAF,EAAcC,IAAd,GAJqB,CAIC;AACtB,wBAAE,OAAF,EAAWC,IAAX,GALqB,CAKF;AACnB,wBAAE,UAAF,EAAcC,KAAd,GANqB,CAME;AACvB,+BAAOJ,IAAP,EAAa,UAACK,GAAD,EAAMC,OAAN,EAAkB;AAC7B,0BAAE,UAAF,EAAcH,IAAd,GAD6B,CACP;AACtB,0BAAE,OAAF,EAAWD,IAAX,GAF6B,CAEV;AACnB,0BAAE,QAAF,EAAYN,IAAZ,CAAiBI,IAAjB,EAH6B,CAGL;AACxBM,YAAQC,OAAR,CAAgB,kBAAU;AACxB,UAAMC,KAAK,sBAAE,OAAF,CAAX;AACA,UAAMZ,uBAEVa,OAAOC,KAFG,sGAMPD,OAAOE,WANA,mBAAN;AASAH,SAAGZ,IAAH,CAAQA,IAAR,EAXwB,CAWT;AACf,UAAI,sBAAE,aAAF,EAAiBgB,EAAjB,CAAoB,UAApB,CAAJ,EAAqC;AACnC;AACAJ,WAAGK,SAAH,CAAa,sBAAE,UAAF,CAAb,EAFmC,CAEN;AAC9B,OAHD,MAGO;AACLL,WAAGM,QAAH,CAAY,sBAAE,UAAF,CAAZ,EADK,CACuB;AAC7B;AACDN,SAAGO,IAAH,CAAQ,QAAR,EAAkBlB,EAAlB,CAAqB,OAArB,EAA8B,YAAM;AAClC;AACAW,WAAGO,IAAH,CAAQ,UAAR,EAAoBC,MAApB,GAFkC,CAEJ;AAC9B,YAAMC,WAAWT,GAAGO,IAAH,CAAQ,UAAR,EAAoBH,EAApB,CAAuB,SAAvB,CAAjB,CAHkC,CAGkB;AACpDJ,WAAGO,IAAH,CAAQ,QAAR,EAAkBnB,IAAlB,CAAuBqB,WAAW,WAAX,GAAyB,MAAhD,EAJkC,CAIuB;AAC1D,OALD;AAMD,KAxBD;AAyBD,GA7BD;AA8BD,CAtCH,EAuCGC,OAvCH,CAuCW,QAvCX,E,CAuCsB;;AAEtB,sBAAE,aAAF,EAAiBrB,EAAjB,CAAoB,OAApB,EAA6B,iBAAS;AACpC;AACA,wBAAE,aAAF,EAAiBsB,IAAjB,CAAsB,UAACC,CAAD,EAAIZ,EAAJ,EAAW;AAC/B,0BAAE,UAAF,EAAca,OAAd,CAAsBb,EAAtB,EAD+B,CACJ;AAC5B,GAFD;AAGD,CALD;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4D;;;;;;;;;;;;;;;;;;;;QCxXgBc,M,GAAAA,M;;AALhB;;;;;;AAEA,IAAMC,MACJ,kEADF;;AAGO,SAASD,MAAT,CAAgBtB,IAAhB,EAAsBwB,EAAtB,EAA0B;AAC/B,uBAASD,GAAT,gBAAuBvB,IAAvB,EAA+B,UAACK,GAAD,EAAMoB,IAAN,EAAe;AAC5C,QAAIpB,GAAJ,EAAS;AACPmB,SAAGnB,GAAH;AACD,KAFD,MAEO;AAAA,iCAC4CoB,IAD5C;AAAA,UACEC,UADF;AAAA,UACcC,MADd;AAAA,UACsBC,YADtB;AAAA,UACoCC,IADpC;;AAELL,SACE,IADF,EAEEG,OAAOG,IAAP,GAAcC,GAAd,CAAkB,UAACrB,KAAD,EAAQsB,KAAR,EAAkB;AAClC,eAAO;AACLtB,sBADK;AAELC,uBAAaiB,aAAaI,KAAb,CAFR;AAGLC,eAAKJ,KAAKG,KAAL;AAHA,SAAP;AAKD,OAND,CAFF;AAUD;AACF,GAhBD;AAiBD,C","file":"00-Hello-World-lecture.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"00-Hello-World-lecture\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./subjects/00-Hello-World/lecture.js\",\"vendors~00-Hello-World-lecture\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import $ from \"jquery\";\nimport { search } from \"./utils/searchWikipedia\";\n\nconst html = `\n<div>\n  <h1>Wikipedia</h1>\n  <form id=\"form\">\n    <input id=\"input\" value=\"taco\"/>\n    <button type=\"submit\">Search</button>\n  </form>\n  <div id=\"loading\">Loading...</div>\n  <div id=\"meta\">\n    <p>Results for: <span id=\"title\"></span><p>\n    <p>\n      <label>\n        <input type=\"checkbox\" id=\"descending\">\n        Sort Descending\n      </label>\n    </p>\n  </div>\n  <ul id=\"results\"></ul>\n</div>\n`;\n\n$(\"#app\").html(html); // <-- component\n\n$(\"#form\")\n  .on(\"submit\", event => {\n    // <-- state change\n    event.preventDefault();\n    const term = $(\"#input\").val(); // <-- state\n    $(\"#loading\").show(); // <-- time\n    $(\"#meta\").hide(); // <-- time\n    $(\"#results\").empty(); // <-- time\n    search(term, (err, results) => {\n      $(\"#loading\").hide(); // <-- time\n      $(\"#meta\").show(); // <-- time\n      $(\"#title\").html(term); // <-- time\n      results.forEach(result => {\n        const li = $(\"<li/>\");\n        const html = `\n<div>\n  ${result.title}\n  <button>show more</button>\n</div>\n<div class=\"toggler\" style=\"display: none\">\n  <p>${result.description}</p>\n</div>\n`;\n        li.html(html); // <-- time\n        if ($(\"#descending\").is(\":checked\")) {\n          // <-- state\n          li.prependTo($(\"#results\")); // <-- time\n        } else {\n          li.appendTo($(\"#results\")); // <-- time\n        }\n        li.find(\"button\").on(\"click\", () => {\n          // <-- component\n          li.find(\".toggler\").toggle(); // <-- time\n          const isHidden = li.find(\".toggler\").is(\":hidden\"); // <-- state\n          li.find(\"button\").html(isHidden ? \"show more\" : \"hide\"); // <-- time\n        });\n      });\n    });\n  })\n  .trigger(\"submit\"); // <-- state change\n\n$(\"#descending\").on(\"click\", event => {\n  // <-- state change\n  $(\"#results li\").each((i, li) => {\n    $(\"#results\").prepend(li); // <-- time\n  });\n});\n\n// What's awesome:\n//\n// I can still bang out this code even after not using jQuery for\n// 4 years.\n//\n// What's not awesome:\n//\n// When our code...\n//\n// - is written as flows\n// - doesn't call out state\n// - has no entry point to change state\n//\n// ...it gets really hard to deal with. After you identify state,\n// and how to change it, you must write code to connect every state\n// to nearly every other state. Every feature requires changes to code\n// in multiple places. Also, it's just too hard to think about for most\n// of us, leading to lots of bugs.\n\n////////////////////////////////////////////////////////////////////////////////\n\n// import Backbone from \"backbone\";\n// import $ from \"jquery\";\n// import _ from \"underscore\";\n// import { search } from \"./utils/searchWikipedia\";\n\n// const appTemplate = _.template(`\n// <div>\n//   <h1><%= title %></h1>\n//   <form id=\"form\">\n//     <input id=\"input\" value=\"taco\"/>\n//     <button type=\"submit\">Search</button>\n//   </form>\n//   <% if (loading) { %>\n//     <div id=\"loading\">Loading...</div>\n//   <% } else { %>\n//     <div id=\"meta\">\n//       <p>Results for: <span id=\"title\"><%= term %></span><p>\n//       <p>\n//         <label>\n//         <input type=\"checkbox\" id=\"descending\" <%= descending ? 'checked' : '' %>>\n//         Sort Descending\n//         </label>\n//       </p>\n//     </div>\n//   <% } %>\n//   <ul id=\"results\">\n//     <% results.forEach(function(result) { %>\n//       <li class=\"toggleView\"></li>\n//     <% }) %>\n//   </ul>\n// </div>\n// `);\n\n// const AppView = Backbone.View.extend({\n//   template: appTemplate,\n\n//   events: {\n//     // <-- delegated state changes\n//     \"submit #form\": \"handleSubmit\",\n//     \"click #descending\": \"handleDescending\"\n//   },\n\n//   initialize() {\n//     this.listenTo(this.model, \"all\", this.render);\n//     this.listenTo(this.model, \"change:term\", this.search);\n//     this.render();\n//     this.search();\n//   },\n\n//   handleSubmit(event) {\n//     event.preventDefault();\n//     this.model.set(\"term\", this.$el.find(\"#input\").val()); // KVO Web\n//   },\n\n//   search() {\n//     this.model.set({\n//       // KVO web\n//       loading: true,\n//       results: [],\n//       descending: false // cascading update!\n//     });\n//     search(this.model.get(\"term\"), (err, results) => {\n//       this.model.set({\n//         // KVO web\n//         loading: false,\n//         results: results\n//       });\n//     });\n//   },\n\n//   handleDescending() {\n//     this.model.set(\n//       // <-- KVO web\n//       \"descending\",\n//       !this.model.get(\"descending\")\n//     );\n//   },\n\n//   render() {\n//     const state = this.model.toJSON();\n//     if (state.descending)\n//       state.results = state.results.slice(0).reverse();\n//     this.$el.html(this.template(state)); // DOM Bomb!\n//     this.$el.find(\"#results li\").each((index, el) => {\n//       new ToggleView({\n//         // <-- imperative (re)composition!\n//         el: el,\n//         model: new Backbone.Model(state.results[index])\n//       }).render();\n//     });\n//   }\n// });\n\n// const ToggleView = Backbone.View.extend({\n//   template: _.template(`\n// <div>\n//   <%= title %>\n//   <button>show more</button>\n// </div>\n// <% if (isOpen) { %>\n// <div>\n//   <p><%= description %></p>\n// </div>\n// <% } %>\n// `),\n\n//   events: {\n//     \"click button\": \"toggle\"\n//   },\n\n//   initialize() {\n//     this.model.set(\"isOpen\", false, { silent: true }); // <-- model ownership?\n//     this.listenTo(this.model, \"change:isOpen\", this.render);\n//   },\n\n//   toggle() {\n//     this.model.set(\"isOpen\", !this.model.get(\"isOpen\")); // <-- KVO web\n//   },\n\n//   render() {\n//     this.$el.html(this.template(this.model.toJSON()));\n//   }\n// });\n\n// new AppView({\n//   el: \"#app\",\n//   model: new Backbone.Model({\n//     title: \"Wikipedia\",\n//     loading: false,\n//     term: \"tacos\",\n//     descending: false,\n//     results: []\n//   })\n// });\n\n// What's awesome\n//\n// - Moved state to models so we can identify what state changes\n//   the app.\n// - Moved creating UI into templates, one step closer to being\n//   declarative.\n//\n// What's not so awesome\n//\n// - DOM Bombs\n//   - kill focus for assistive devices\n//   - non-performant\n//\n// - KVO Web\n//   - can't predict what will happen if you change state\n//     > Events complect communication and flow of control.\n//     > ... their fundamental nature, ... is that upon an event\n//     > an arbitrary amount of other code is run\n//     > http://clojure.com/blog/2013/06/28/clojure-core-async-channels.html\n//\n//   - leads to cascading updates\n//     - non-performant\n//     - to fix leads to knowing how your app changes over time intimately\n//\n// - imperative composition\n//   - non-performant\n//   - to fix\n//     - have to know how your app changes over time intimately\n//     - lots of code to manage instances\n//     - lots of mistakes\n\n////////////////////////////////////////////////////////////////////////////////\n\n// import angular from \"angular\";\n// import { search } from \"./utils/searchWikipedia\";\n\n// document.documentElement.setAttribute(\"ng-app\", \"wikipedia\");\n\n// document.getElementById(\"app\").innerHTML = `\n// <div ng-controller=\"MainController as main\">\n//   <h1>Wikipedia</h1>\n//   <form ng-submit=\"main.handleSubmit()\">\n//     <input ng-model=\"main.term\"/>\n//     <button type=\"submit\">Search</button>\n//   </form>\n//   <div ng-if=\"main.loading\">Loading...</div>\n//   <div>\n//     <p>{{main.sortedResults().length}} results for: {{main.term}}<p>\n//     <p>\n//       <label>\n//         <input\n//         type=\"checkbox\"\n//         ng-model=\"main.descending\"\n//         > Sort Descending\n//       </label>\n//     </p>\n//   </div>\n//   <ul id=\"results\">\n//     <li ng-repeat=\"result in main.sortedResults() track by result.title\">\n//       <toggler title=\"{{result.title}}\">\n//         <p>{{result.description}}</p>\n//       </toggler>\n//     </li>\n//   </ul>\n// </div>\n// `;\n\n// const app = angular.module(\"wikipedia\", []);\n\n// app.controller(\"MainController\", function($rootScope) {\n//   const main = this;\n//   main.term = \"taco\"; // <-- shared state!\n//   main.results = [];\n//   main.loading = false;\n//   main.descending = false;\n\n//   main.getFriends = () => {\n//     return [{ name: \"Sarah\" }, { name: \"Max\" }];\n//   };\n\n//   main.handleSubmit = () => {\n//     main.loading = true;\n//     search(main.term, (err, results) => {\n//       main.results = results;\n//       main.loading = false;\n//       $rootScope.$digest(); // <-- time!\n//     });\n//   };\n\n//   main.sortedResults = () => {\n//     return main.descending\n//       ? main.results.slice(0).reverse()\n//       : main.results;\n//   };\n\n//   main.handleSubmit();\n// });\n\n// app.directive(\"toggler\", () => {\n//   // <-- Global!\n//   return {\n//     restrict: \"E\", // WTH?\n//     scope: {\n//       title: \"@\" // WTH?\n//     },\n//     controller($scope) {\n//       $scope.isOpen = false;\n//       $scope.toggle = () => {\n//         $scope.isOpen = !$scope.isOpen;\n//       };\n//     },\n//     replace: true,\n//     transclude: true, // WTH?\n//     template: `\n// <div>\n//   <div>\n//     {{title}}\n//     <button ng-click=\"toggle()\">show more</button>\n//   </div>\n//   <div ng-if=\"isOpen\" ng-transclude></div>\n// <div>\n// `\n//   };\n// });\n\n// What's awesome\n//\n// - fully declarative templates\n// - declarative component composition\n//\n// What's not so awesome\n//\n// - directives and filters are globals\n// - have to think about time with $apply/$watch, etc.\n// - rendering assumptions require you to keep object identity\n//   and therefore think about time\n// - and the real kicker: shared mutable state\n//\n// > July 7, 2014\n// >\n// > Vojta brought up some points that we don’t yet have plans to solve\n// > some problems we see in larger apps.  In particular, how developers\n// > can reason about data flow within an app.\n// >\n// > Key points: scope hierarchy is a huge pile of shared state that many\n// > components from the application because of two way data-binding it's\n// > not clear what how the data flows because it can flow in all\n// > directions (including from child components to parents) - this makes\n// > it hard to understand the app and understand of impact of model\n// > changes in one part of the app on another (seemingly unrelated) part\n// > of it.\n//   https://twitter.com/teozaurus/status/518071391959388160\n","import jsonp from \"jsonp\";\n\nconst API =\n  \"https://en.wikipedia.org/w/api.php?action=opensearch&format=json\";\n\nexport function search(term, cb) {\n  jsonp(`${API}&search=${term}`, (err, data) => {\n    if (err) {\n      cb(err);\n    } else {\n      const [searchTerm, titles, descriptions, urls] = data;\n      cb(\n        null,\n        titles.sort().map((title, index) => {\n          return {\n            title,\n            description: descriptions[index],\n            url: urls[index]\n          };\n        })\n      );\n    }\n  });\n}\n"],"sourceRoot":""}